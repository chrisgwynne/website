@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Share Tech Mono font */
@font-face {
  font-family: 'Share Tech Mono';
  src: url('https://n-o-d-e.live/fonts/font.woff') format('woff'),
       url('https://n-o-d-e.live/fonts/font.ttf') format('truetype');
  font-display: swap;
}

/* CSS Variables for theming */
:root {
  --bg-color: #222;
  --text-color: #c8c8c8;
  --border-color: #444;
  --code-bg: #1f1f1f;
  --heading-color: #ffffff;
  --link-color: #ffffff;
  --accent-color: #ffffff;
}

[data-theme="light"] {
  --bg-color: #f5f5f5;
  --text-color: #333;
  --border-color: #ccc;
  --code-bg: #eee;
  --heading-color: #111;
  --link-color: #000;
  --accent-color: #000;
}

@layer base {
  body {
    @apply font-mono antialiased;
    background-color: var(--bg-color);
    color: var(--text-color);
    letter-spacing: 0.1px;
    font-size: 17px;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  a {
    color: var(--link-color);
    @apply no-underline;
  }
  
  a:hover {
    @apply underline;
  }
  
  p {
    @apply my-2 mb-8;
    line-height: 1.65;
  }
  
  ul {
    @apply p-0;
  }
  
  li {
    @apply my-4 list-none;
  }
  
  img {
    @apply max-w-full mb-5;
  }
  
  h1, h2, h3, h4, h5, h6 {
    color: var(--heading-color);
    @apply inline-block mb-5 mt-5;
  }
  
  h1 {
    @apply text-2xl;
  }
  
  h2 {
    @apply text-xl;
  }
  
  h3 {
    @apply text-lg;
  }
  
  pre, code {
    background-color: var(--code-bg);
  }
  
  pre {
    @apply p-5 my-2 mb-12 overflow-x-auto;
  }
  
  code {
    @apply px-1;
  }
  
  pre code {
    @apply p-0 bg-transparent;
  }
}

@layer components {
  .node-container {
    @apply max-w-node mx-auto px-5;
  }
  
  .node-header {
    @apply w-full mb-12 border-b border-dotted pb-0;
    border-color: var(--border-color);
  }
  
  .node-logo {
    @apply w-10 border block mt-5;
    border-color: var(--heading-color);
  }
  
  .node-nav {
    @apply block text-right mb-8 -mt-7;
  }
  
  .node-nav a {
    @apply mx-1;
  }
  
  .node-nav-separator {
    @apply mx-1;
  }
  
  .article-list {
    @apply mb-12;
  }
  
  .article-list li {
    @apply my-4;
  }
  
  .article-list a {
    color: var(--text-color);
  }
  
  .article-list a:hover {
    color: var(--heading-color);
  }
  
  .tag {
    @apply mr-2;
    color: var(--text-color);
  }
  
  .tag-category {
    @apply mr-2;
    color: var(--text-color);
  }
  
  .date {
    @apply text-gray-500 mr-3;
  }
  
  .post-content {
    @apply max-w-node mb-5 -mt-2 leading-7;
  }
  
  .post-content p {
    line-height: 1.65;
  }
  
  .back-link {
    @apply block mb-6;
  }
  
  .meta {
    @apply text-gray-500 mb-8;
  }
  
  .pagination {
    @apply mt-12 flex gap-4;
  }
  
  .node-footer {
    @apply max-w-node mx-auto mt-14 mb-8;
  }
  
  .notification {
    @apply px-1;
    color: var(--bg-color);
    background-color: var(--heading-color);
  }
  
  .code-block {
    @apply p-5 my-2 mb-8 inline-block w-full;
    background-color: var(--code-bg);
  }
  
  .important {
    @apply -ml-4;
  }
  
  .related-posts {
    @apply mt-12 pt-8 border-t border-dotted;
    border-color: var(--border-color);
  }
  
  .related-posts h3 {
    @apply mb-4;
    color: var(--heading-color);
  }
  
  .related-posts ul {
    @apply p-0;
  }
  
  .related-posts li {
    @apply my-3;
  }
  
  .related-posts a {
    color: var(--text-color);
  }
  
  .related-posts a:hover {
    color: var(--heading-color);
  }
  
  .related-posts .date {
    @apply text-gray-500 text-sm ml-2;
  }
  
  .reading-time {
    @apply text-gray-500 ml-2;
  }
  
  /* Archive page styles */
  .archive-intro {
    @apply mb-8;
  }
  
  .archive-year {
    @apply mb-10;
  }
  
  .year-heading {
    @apply text-2xl mb-4 pb-2 border-b border-dotted;
    color: var(--heading-color);
    border-color: var(--border-color);
  }
  
  .archive-month {
    @apply mb-6 ml-2;
  }
  
  .month-heading {
    @apply text-lg mb-3;
    color: var(--text-color);
  }
  
  .archive-list {
    @apply p-0 ml-4;
  }
  
  .archive-list li {
    @apply my-2;
  }
  
  /* Lazy loading image styles */
  img.lazyload {
    opacity: 0;
    transition: opacity 0.3s ease-in;
    filter: blur(5px);
  }
  
  img.lazyloaded {
    opacity: 1;
    filter: blur(0);
    transition: opacity 0.3s ease-in, filter 0.3s ease-in;
  }
  
  /* Article cover image */
  .article-cover {
    @apply mb-8;
  }
  
  .article-cover img {
    @apply w-full h-auto;
  }
  
  /* 404 Error Page */
  .error-page {
    @apply text-center py-12;
  }
  
  .error-code {
    @apply text-8xl font-bold mb-4 tracking-wider;
  }
  
  .error-digit {
    @apply inline-block;
    color: var(--heading-color);
    animation: glitch 2s infinite;
  }
  
  .error-digit:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  .error-digit:nth-child(3) {
    animation-delay: 0.4s;
  }
  
  @keyframes glitch {
    0%, 90%, 100% {
      transform: translate(0);
      opacity: 1;
    }
    92% {
      transform: translate(-2px, 1px);
      opacity: 0.8;
    }
    94% {
      transform: translate(2px, -1px);
      opacity: 0.9;
    }
    96% {
      transform: translate(-1px, 2px);
      opacity: 0.8;
    }
    98% {
      transform: translate(1px, -2px);
      opacity: 0.9;
    }
  }
  
  .error-title {
    @apply text-2xl mb-4;
    color: var(--heading-color);
  }
  
  .error-message {
    @apply text-node-text mb-8;
  }
  
  .error-suggestions {
    @apply mb-8;
  }
  
  .error-suggestions ul {
    @apply inline-block text-left;
  }
  
  .error-suggestions li {
    @apply my-2;
  }
  
  .error-suggestions a {
    color: var(--heading-color);
  }
  
  .error-suggestions a:hover {
    @apply underline;
  }
  
  .error-search {
    @apply mt-8;
  }
  
  .search-form {
    @apply flex justify-center gap-2 mt-4;
  }
  
  .search-input {
    @apply bg-node-code border border-node-border text-white px-4 py-2 font-mono;
    @apply focus:outline-none focus:border-white;
  }
  
  .search-button {
    @apply bg-white text-node-bg px-4 py-2 font-mono border border-white;
    @apply hover:bg-gray-200 cursor-pointer;
  }
  
  /* Theme toggle button */
  .theme-toggle {
    @apply inline-flex items-center justify-center w-8 h-8 p-0 bg-transparent border-0 cursor-pointer;
    color: var(--text-color);
    font-size: 16px;
    line-height: 1;
    transition: color 0.2s ease;
  }
  
  .theme-toggle:hover {
    color: var(--heading-color);
  }
  
  .theme-toggle-light,
  .theme-toggle-dark {
    @apply block;
  }
  
  /* Default: dark theme - show moon, hide sun */
  .theme-toggle .theme-toggle-light {
    @apply hidden;
  }
  
  .theme-toggle .theme-toggle-dark {
    @apply block;
  }
  
  /* Light theme - show sun, hide moon */
  .theme-toggle.is-light .theme-toggle-light {
    @apply block;
  }
  
  .theme-toggle.is-light .theme-toggle-dark {
    @apply hidden;
  }
  
  /* Reading Progress Bar */
  .reading-progress {
    @apply fixed top-0 left-0 w-full h-1 z-50 bg-transparent;
  }
  
  .reading-progress-bar {
    @apply h-full w-0;
    background-color: var(--accent-color);
    transition: width 0.1s ease-out;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
